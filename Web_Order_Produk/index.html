
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Generate Nbr Link</title>
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <nav>
      <a href="index.html">Home</a>
      <a href="index.html">Generate Link</a>
      <a href="#">Transaction History</a>
      <a href="#">Policy</a>
      <a href="#">Logout</a>
    </nav>

    <div id="container-form-nbr-link">
      <div class="form-layout">
        <div class="left-side">
          <div class="upload-box">
            <div class="image-placeholder" id="imagePreview">
              <span>No Image</span>
            </div>
            <label class="upload-btn">
              Upload Picture
              <input
                type="file"
                id="imageInput"
                name="image"
                accept="image/*"
                hidden
              />
            </label>
          </div>
        </div>

        <div class="right-side">
          <form
            action="output.php"
            method="POST"
            enctype="multipart/form-data"
            id="nbr-link-form"
          >
            <div class="form-group">
              <label for="title">Title Here:</label>
              <input
                type="text"
                id="title"
                name="title"
                placeholder="Please input your product name."
                required
              />
            </div>

            <div class="form-group">
              <label for="description">Description:</label>
              <textarea
                id="description"
                name="description"
                rows="4"
                minlength="10"
                maxlength="400"
                placeholder="Describe your product here."
              ></textarea>
            </div>

            <div class="form-group">
              <label for="account-number">Account Number:</label>
              <input
                type="text"
                id="account-number"
                name="account-number"
                placeholder="Input your account number"
                required
              />
            </div>

            <div class="form-group">
              <label for="bank">Bank:</label>
              <select id="bank" name="bank">
                <option>Choose Your Bank</option>
                <option>HSBC</option>
                <option>BCA</option>
                <option>BNI</option>
                <option>Mandiri</option>
              </select>
            </div>

            <div class="form-group">
              <label for="account-holder">Account Holder:</label>
              <input
                type="text"
                id="account-holder"
                name="account-holder"
                placeholder="Name here"
              />
            </div>

            <div class="form-group">
              <label>Transaction:</label>
              <p class="note">
                * If the transaction is for 3 persons, choose 3 from the
                drop-down list
              </p>
              <div class="checkboxes">
                <label>
                  <input type="checkbox" name="send-mobile" value="1" />
                  Send to Mobile Phone
                </label>
                <label>
                  <input type="checkbox" name="send-email" value="1" />
                  Send to Email
                </label>
              </div>
            </div>

            <div class="form-group">
              <label for="mobile-number">Send to Mobile Phone:</label>
              <input
                type="text"
                id="mobile-number"
                name="mobile-number"
                placeholder="Input your mobile phone number"
              />
            </div>

            <div class="form-group">
              <label for="email">Send to Email:</label>
              <input
                type="email"
                id="email"
                name="email"
                placeholder="Input your email"
              />
            </div>

            <input type="hidden" name="imageData" id="imageData" />

            <div class="button-group">
              <button type="submit" name="submit" value="1">
                Generate Nbr Link
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      const imageInput = document.getElementById("imageInput");
      const imagePreview = document.getElementById("imagePreview");
      const imageDataField = document.getElementById("imageData");

      imageInput.addEventListener("change", function () {
        const file = this.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            imagePreview.innerHTML = <img src="${e.target.result}" alt="Preview" style="width:100%; height:180px; object-fit:contain;">;
            imageDataField.value = e.target.result;
          };
          reader.readAsDataURL(file);
        } else {
          imagePreview.innerHTML = "<span>No Image</span>";
          imageDataField.value = "";
        }
      });
    </script>
 Â </body>
</html>
